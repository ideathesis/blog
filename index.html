<script>
document.addEventListener("DOMContentLoaded", () => {
    const postList = document.getElementById("post-list");

    // Ganti dengan URL repository GitHub Anda
    const repoUrl = "https://api.github.com/repos/ideathesis/blog/contents/post";

    // Fetch daftar file dari GitHub API
    fetch(repoUrl)
        .then(response => response.json())
        .then(files => {
            files.forEach(file => {
                // Hanya proses file HTML
                if (file.name.endsWith(".html")) {
                    const col = document.createElement("div");
                    col.className = "col-md-4";

                    const card = document.createElement("div");
                    card.className = "post-card";

                    const title = file.name.replace(".html", "").replace(/-/g, " ").toUpperCase();

                    const body = document.createElement("div");
                    body.className = "card-body";

                    const titleElement = document.createElement("h2");
                    titleElement.className = "card-title";
                    titleElement.textContent = title;

                    const footer = document.createElement("div");
                    footer.className = "card-footer";
                    const readMore = document.createElement("a");
                    readMore.href = `/post/${file.name}`;
                    readMore.textContent = "Baca Selengkapnya";
                    readMore.className = "btn btn-primary btn-sm";
                    footer.appendChild(readMore);

                    body.appendChild(titleElement);

                    card.appendChild(body);
                    card.appendChild(footer);

                    col.appendChild(card);
                    postList.appendChild(col);
                }
            });
        })
        .catch(error => console.error("Error loading posts:", error));
});
</script>