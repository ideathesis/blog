<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IDEA THESIS - Blog</title>

<!-- Favicon -->
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="192x192" href="images/favicon-192x192.png">
<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
<link rel="manifest" href="/manifest.json">

<!-- Open Graph Tags -->
  <meta property="og:title" content="IDEA THESIS - Blog">
  <meta property="og:description" content="Temukan artikel terbaru seputar skripsi, penelitian, dan tips akademik di Blog IDEA THESIS. Dapatkan inspirasi dan panduan untuk menyelesaikan tugas akhir Anda dengan mudah.">
  <meta property="og:image" content="https://blog.ideathesis.biz.id/images/logo.jpg">
  <meta property="og:url" content="https://blog.ideathesis.biz.id">
  <meta property="og:type" content="website">
  
<!-- Google tag (gtag.js) -->
<meta name="google-adsense-account" content="ca-pub-9136479711687970">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-879N2YFKYD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-879N2YFKYD');
</script>
  
<!-- Script AdSense Auto Ads -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9136479711687970"
     crossorigin="anonymous"></script>

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Custom CSS -->
<link rel="stylesheet" href="style/style.css">
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top">
    <div class="container">
        <a class="navbar-brand" href="https://ideathesis.biz.id">IDEA THESIS</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link" href="https://ideathesis.biz.id/#home">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="https://ideathesis.biz.id/#services">Layanan</a></li>
                <li class="nav-item"><a class="nav-link" href="https://ideathesis.biz.id/#pricing">Harga</a></li>
                <li class="nav-item"><a class="nav-link" href="https://ideathesis.biz.id/#testimonials">Testimoni</a></li>
                <li class="nav-item"><a class="nav-link" href="https://blog.ideathesis.biz.id">Blog</a></li>
                <li class="nav-item"><a class="nav-link" href="https://ideathesis.biz.id/#library">Perpustakaan</a></li>
                <li class="nav-item"><a class="nav-link" href="https://ideathesis.biz.id/#contact">Kontak</a></li>
            </ul>
        </div>
    </div>
</nav>

<!-- Main Content -->
<div class="container content">
    <div class="row" id="post-list">
        <!-- Daftar artikel akan dimuat di sini -->
    </div>
</div>

<!-- Footer -->
<footer>
    <div class="container">
        <p>&copy; <script>document.write(new Date().getFullYear());</script> IDEA THESIS. All rights reserved.</p>
    </div>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<!-- JavaScript untuk memuat daftar artikel menggunakan GitHub API -->
<script>
document.addEventListener("DOMContentLoaded", () => {
    const postList = document.getElementById("post-list");
    const repoUrl = "https://api.github.com/repos/ideathesis/blog/contents/post";

    // Array untuk menyimpan semua artikel
    const articles = [];

    // Ambil daftar file dari GitHub API
    fetch(repoUrl)
        .then(response => response.json())
        .then(files => {
            // Loop untuk mengambil metadata dari setiap file HTML
            const promises = files
                .filter(file => file.name.endsWith(".html")) // Hanya proses file HTML
                .map(file => fetch(file.download_url) // Fetch isi file HTML
                    .then(response => response.text())
                    .then(htmlContent => {
                        const parser = new DOMParser();
                        const doc = parser.parseFromString(htmlContent, "text/html");
                        const metadataScript = doc.querySelector("script[type='application/json']");
                        if (metadataScript) {
                            const metadata = JSON.parse(metadataScript.textContent);
                            metadata.file = file.name; // Simpan nama file
                            return metadata; // Kembalikan metadata
                        }
                        return null; // Jika metadata tidak ada, kembalikan null
                    })
                    .catch(error => {
                        console.error(`Error loading file ${file.name}:`, error);
                        return null;
                    })
                );

            // Tunggu semua promise selesai
            Promise.all(promises).then(results => {
                // Filter artikel yang memiliki metadata valid
                const validArticles = results.filter(article => article !== null);

                // Urutkan artikel berdasarkan tanggal (terbaru terlebih dahulu)
                validArticles.sort((a, b) => {
                    const dateA = new Date(a.date);
                    const dateB = new Date(b.date);
                    return dateB - dateA; // Terbaru terlebih dahulu
                });

                // Bersihkan konten sebelum menampilkan artikel
                postList.innerHTML = "";

                // Tampilkan artikel yang sudah diurutkan
                validArticles.forEach(article => {
                    const col = document.createElement("div");
                    col.className = "col-md-4";
                    const card = document.createElement("div");
                    card.className = "post-card";
                    const img = document.createElement("img");
                    img.src = article.image;
                    img.alt = article.title;
                    const body = document.createElement("div");
                    body.className = "card-body";
                    const title = document.createElement("h2");
                    title.className = "card-title";
                    title.textContent = article.title;
                    const author = document.createElement("p");
                    author.className = "card-text";
                    author.innerHTML = `<strong>Penulis:</strong> ${article.author}`;
                    const date = document.createElement("p");
                    date.className = "card-text";
                    date.innerHTML = `<strong>Tanggal:</strong> ${article.date}`;
                    const footer = document.createElement("div");
                    footer.className = "card-footer";
                    const readMore = document.createElement("a");
                    readMore.href = `/post/${article.file}`;
                    readMore.className = "read-more-button";
                    readMore.textContent = "Baca Selengkapnya";
                    footer.appendChild(readMore);
                    body.appendChild(title);
                    body.appendChild(author);
                    body.appendChild(date);
                    card.appendChild(img);
                    card.appendChild(body);
                    card.appendChild(footer);
                    col.appendChild(card);
                    postList.appendChild(col);
                });
            });
        })
        .catch(error => console.error("Error loading posts:", error));
});
</script>
</body>
</html>